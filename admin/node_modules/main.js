var showSourceCode = false;
var isInEditMode = true;

function enableEditMode () {
	editor.document.designMode = 'On';
}

function execCmd (command) {
	editor.document.execCommand(command, false, null);
}

function execCommandWithArg (command, arg) {
	editor.document.execCommand(command, false, arg);
}

function toggleSource(){

	if (showSourceCode) {

		editor.document.getElementsByTagName('body')[0].innerHTML = editor.document.getElementsByTagName('body')[0].textContent;
		showSourceCode = false;

	}else{

		editor.document.getElementsByTagName('body')[0].textContent = editor.document.getElementsByTagName('body')[0].innerHTML;
		showSourceCode = true;

	}
}

function toggleEdit () {
	
	if (isInEditMode) {

		editor.document.designMode = 'Off';
		isInEditMode = false;

	}else{

		editor.document.designMode = 'On';
		isInEditMode = true;

	}

}

function tambahLoker() {

    var judulLoker = document.getElementById('judulLoker').value;
    var closingDate = document.getElementById('closingDate').value;
    var deskripsiEditor = document.getElementById('deskripsiEditor');
    var formEditor = document.getElementById('formEditor');
    var content = deskripsiEditor.contentWindow.document.body.innerHTML;
    var html = "";

    if (judulLoker == '' && closingDate =='' && content == '') {
    	alert('Form tidak boleh ada yang kosong!');
    }else{

    	$.ajax({
	    	url: './config/tambahLoker.php',
	    	type: 'POST',
	    	data: {
	    		judul: judulLoker,
	    		closingDate: closingDate,
	    		content: content
	    	},
	    	success: function (log) {
	    		alert(log);
	    	}
	    });

	    formEditor.reset();
	    deskripsiEditor.contentWindow.document.write(html);

    }
    

    // console.log(judulLoker + ', ' + closingDate + ', ' + content);
    

}

function editLoker() {

    var judulLoker = document.getElementById('judulLoker').value;
    var closingDate = document.getElementById('closingDate').value;
    var idLoker = document.getElementById('idLoker').value;
    var deskripsiEditor = document.getElementById('deskripsiEditor');
    var formEditor = document.getElementById('formEditor');
    var content = deskripsiEditor.contentWindow.document.body.innerHTML;
    var html = "";

    if (judulLoker == '' && closingDate =='' && content == '') {
    	alert('Form tidak boleh ada yang kosong!');
    }else{

    	$.ajax({
	    	url: './config/editLoker.php',
	    	type: 'POST',
	    	data: {
	    		idLoker: idLoker,
	    		judul: judulLoker,
	    		closingDate: closingDate,
	    		content: content
	    	},
	    	success: function (log) {
	    		alert(log);
	    	}
	    });

    }
    
    formEditor.reset();
    deskripsiEditor.contentWindow.document.write(html);

    // console.log(judulLoker + ', ' + closingDate + ', ' + content);
    

}

function editProfil() {

    var profilDeskripsi = document.getElementById('profilDeskripsi');
    var formEditor = document.getElementById('formEditor');
    var content = profilDeskripsi.contentWindow.document.body.innerHTML;
    var html = "";

    if (content == '') {
    	alert('Form tidak boleh ada yang kosong!');
    }else{

    	$.ajax({
	    	url: './config/profilProses.php',
	    	type: 'POST',
	    	data: {
	    		content: content
	    	},
	    	success: function (log) {
	    		alert(log);
	    	}
	    });

    }
    
    formEditor.reset();
    profilDeskripsi.contentWindow.document.write(html);

    // console.log(judulLoker + ', ' + closingDate + ', ' + content);
    

}

var deskripsiEditor = document.getElementById('deskripsiEditor');
deskripsiEditor.contentWindow.document.body.innerHTML = document.getElementById('deskripsi').getAttribute('data-deskripsi');
// console.log(document.getElementById('deskripsi').getAttribute('data-deskripsi'));